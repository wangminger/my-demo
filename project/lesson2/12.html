<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>
		全选和反选
	</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}
		body dl {
			margin: 10px auto;
			padding: 10px 5px;
			display: block;
			width: 120px;
			border: 1px black solid;
			border-radius: 5px;
			font-size: 12px;
		}
		body dl dt {
			padding-bottom: 10px;
			border-bottom: 1px solid #666;
		}
		label {
			padding: 0 10px 0 5px;
		}
		p {

			margin-top: 10px;
		}
		a:link, a:visited {
			text-decoration: none;
		}
		a:hover, a:focus, a:active {
			text-decoration: underline;
		}
	</style>
	<script type="text/javascript">
		window.onload = function() {
			var checkall = document.getElementsByTagName("input"),
				lab = document.getElementsByTagName("label")[0],
				verse = document.getElementsByTagName("a")[0];
			//反选按钮
			function checkAll() {
				for (var i = 1,n=0; i < checkall.length; i++) {
					if (checkall[i].checked) {
						n++;
					}
					checkall[0].checked = n == checkall.length -1;
				}
			}
			//全选
			checkall[0].onclick = function() {
				for (var i = 1; i < checkall.length; i++) {
					checkall[i].checked = this.checked;
				} 
				checkAll();
				lab.innerHTML = checkall[0].checked ? "全不选" : "全选";
			};

			//反选
			verse.onclick = function() {
				for (var i = 1; i < checkall.length; i++) {
					checkall[i].checked = !checkall[i].checked;
				}
				checkAll();
			};
		};
		
		/*window.onload = function() {
			var oA = document.getElementsByTagName("a")[0];
			var oInput = document.getElementsByTagName("input");
			var oLabel = document.getElementsByTagName("label")[0];
			var isCheckAll = function() {
				for (var i = 1, n = 0; i < oInput.length; i++) {
					oInput[i].checked && n++ // 如果oInput.checked为真，则执行n++（本行用于统计选择框中含有的已选择选项）
				}
				oInput[0].checked = n == oInput.length - 1; //（如果n == oInput.length -1 为真，则oInput[0].length 为true）
				oLabel.innerHTML = oInput[0].checked ? "全不选" : "全选"
			};
			//全选/全不选
			oInput[0].onclick = function() {
				for (var i = 1; i < oInput.length; i++) {
					oInput[i].checked = this.checked  //每一项的check状态跟oInput[0]的状态一致
				}
				isCheckAll()
			};
			//反选
			oA.onclick = function() {
				for (var i = 1; i < oInput.length; i++) {
					oInput[i].checked = !oInput[i].checked
				}
				isCheckAll()
			};
			//根据复选个数更新全选框状态
			for (var i = 1; i < oInput.length; i++) {
				oInput[i].onclick = function() {
					isCheckAll()
				}
			}
		}*/



	</script>
</head>
<body>
	<dl>
		<dt>
			<input type="checkbox" name="checkAll">
			<label>全选</label>
			<a href="javascript:;">反选</a>
		</dt>
		<dd>
			<p>
				<input type="checkbox" name="item">
				<label>选项（一）</label>
			</p>
			<p>
				<input type="checkbox" name="item">
				<label>选项（二）</label>
			</p>
			<p>
				<input type="checkbox" name="item">
				<label>选项（三）</label>
			</p>
			<p>
				<input type="checkbox" name="item">
				<label>选项（四）</label>
			</p>
			<p>
				<input type="checkbox" name="item">
				<label>选项（五）</label>
			</p>
			<p>
				<input type="checkbox" name="item">
				<label>选项（六）</label>
			</p>
			<p>
				<input type="checkbox" name="item">
				<label>选项（七）</label>
			</p>
			<p>
				<input type="checkbox" name="item">
				<label>选项（八）</label>
			</p>
			<p>
				<input type="checkbox" name="item">
				<label>选项（九）</label>
			</p>
			<p>
				<input type="checkbox" name="item">
				<label>选项（十）</label>
			</p>

		</dd>
	</dl>
	<center>
		1、切换全选/全不选文字；
		2、根据选中个数更新全选框状态.
	</center>
</body>
</html>